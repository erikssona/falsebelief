{
    "contents" : "## Script No. 3 ##\n# exploring data\n\nsource('~/Desktop/false belief/Code/standardize.R')\n\n#Pick out some interesting stuff\ncolnames(EverythingClean)\nInteresting <- subset(EverythingClean, select = c(\n          AOI,\n          Diagnosis,\n          TimeSpentGms, \n          TimeSpentFms,\n          Fixations,\n          SRS.Raw,\n          MOT.T,\n          COG.Raw,\n          Ravens.Age,\n          MFB.1,\n          MFB.2,\n          MFB.Both\n            ))\n\nInteresting$Diagnosis <- as.numeric(Interesting$Diagnosis)\nInteresting$Diagnosis[Interesting$Diagnosis == \"1\"] <- 0\nInteresting$Diagnosis[Interesting$Diagnosis == \"2\"] <- 1\nInteresting$MFB.Both <- as.numeric(Interesting$MFB.Both)\nInteresting$MFB.Both[Interesting$MFB.Both == \"1\"] <- 0\nInteresting$MFB.Both[Interesting$MFB.Both == \"2\"] <- 1\nInteresting$TimeSpentGms <- as.numeric(Interesting$TimeSpentGms)\nInteresting$TimeSpentFms <- as.numeric(Interesting$TimeSpentFms)\nInteresting$MFB.1 <- as.numeric(Interesting$MFB.1)\nInteresting$MFB.1[Interesting$MFB.1 == \"1\"] <- 0\nInteresting$MFB.1[Interesting$MFB.1 == \"2\"] <- 1\nInteresting$MFB.2 <- as.numeric(Interesting$MFB.2)\nInteresting$MFB.2[Interesting$MFB.2 == \"1\"] <- 0\nInteresting$MFB.2[Interesting$MFB.2 == \"2\"] <- 1\n\n# Standardize before taking correlations\nInteresting$SRS.Raw <- scale(Interesting$SRS.Raw, center = TRUE)\nInteresting$MOT.T <- scale(Interesting$MOT.T, center = TRUE)\nInteresting$Ravens.Age <- scale(Interesting$Ravens.Age, center = TRUE)\nInteresting$TimeSpentGms <- scale(Interesting$TimeSpentGms, center = TRUE)\nInteresting$TimeSpentFms <- scale(Interesting$TimeSpentFms, center = TRUE)\nInteresting$Fixations <- scale(Interesting$Fixations, center = TRUE)\nInteresting$COG.Raw <- scale(Interesting$COG.Raw, center = TRUE)\n\n#Remove observations with missing data\nInteresting <- Interesting[complete.cases(Interesting),]\n\n#This tells us how many factors we should expect to pull out\n# (Remember it's just an estimate, there are tons of other ways to estimate this\n# and multiple sources suggest trying a few and picking the most conservative)\npng('plots/EFA/ParallelAnalysis.png')\nfa1 <- fa.parallel(Interesting[3:12])\ndev.off()\n\n#plot everything\n#pairs.panels(Interesting)\npng('plots/EFA/CorrelationsAll.png')\ncor.plot(Interesting[2:12])\ndev.off()\n\nBall <- Interesting[Interesting$AOI %in% c(\"MFB1Ball\",\"MFB2Ball\"),]\nEyes <- Interesting[Interesting$AOI %in% c(\"MFB1Eyes\",\"MFB2Eyes\"),]\nBall1 <- Ball[Ball$AOI == \"MFB1Ball\",]\nEyes1 <- Eyes[Eyes$AOI == \"MFB1Eyes\",]\nBall2 <- Ball[Ball$AOI == \"MFB2Ball\",]\nEyes2 <- Eyes[Eyes$AOI == \"MFB2Eyes\",]\n\n#Ball\npng('plots/EFA/CorrelationsBall.png')\ncor.plot(Ball[3:11], main = \"Correlations (Ball), all subjects\")\ndev.off()\npng('plots/EFA/CorrelationsBallMFB1.png')\ncor.plot(Ball1[3:11], main = \"Correlations (Ball) MFB test 1\")\ndev.off()\npng('plots/EFA/CorrelationsBallMFB2.png')\ncor.plot(Ball2[3:11], main = \"Correlations (Ball) MFB test 2\")\ndev.off()\npng('plots/EFA/CorrelationsBallMFBFail.png')\ncor.plot(Ball[2:10][Ball$MFB.Both == 0,], main = \"Correlations (Ball), MFB = fail\")\ndev.off()\npng('plots/EFA/CorrelationsBallMFBPass.png')\ncor.plot(Ball[2:10][Ball$MFB.Both == 1,], main = \"Correlations (Ball), MFB = pass\")\ndev.off()\n#Eyes\npng('plots/EFA/CorrelationsEyes.png')\ncor.plot(Eyes[3:11], main = \"Correlations (Eyes), all subjects\")\ndev.off()\npng('plots/EFA/CorrelationsEyesMFB1.png')\ncor.plot(Eyes1[3:11], main = \"Correlations (Eyes) MFB test 1\")\ndev.off()\npng('plots/EFA/CorrelationsEyesMFB2.png')\ncor.plot(Eyes2[3:11], main = \"Correlations (Eyes) MFB test 2\")\ndev.off()\npng('plots/EFA/CorrelationsEyesMFBFail.png')\ncor.plot(Eyes[3:10][Eyes$MFB.Both == 0,], main = \"Correlations (Eyes), MFB = fail\")\ndev.off()\npng('plots/EFA/CorrelationsEyesMFBPass.png')\ncor.plot(Eyes[3:10][Eyes$MFB.Both == 1,], main = \"Correlations (Eyes), MFB = pass\")\ndev.off()\n\n#sampling adequacy\ncorrelations <- cor(Interesting[2:12])\nKMO(correlations)\n\n#subsets\nBall$AOI <- NULL\nEyes$AOI <- NULL\nBall1$AOI <- NULL\nEyes1$AOI <- NULL\nBall2$AOI <- NULL\nEyes2$AOI <- NULL\n\npng('plots/EFA/HeirarchicalFactorModelAll.png')\nomega(correlations, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model\")\ndev.off()\n\npng('plots/EFA/HeirarchicalFactorModelBall.png')\nomega(Ball, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model (Ball)\")\ndev.off()\npng('plots/EFA/HeirarchicalFactorModelEyes.png')\nomega(Eyes, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model (Eyes)\")\ndev.off()\n\npng('plots/EFA/HeirarchicalFactorModelBall1.png')\nomega(Ball1, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model (Ball) MFB test 1\")\ndev.off()\npng('plots/EFA/HeirarchicalFactorModelBall2.png')\nomega(Ball2, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model (Ball) MFB test 2\")\ndev.off()\npng('plots/EFA/HeirarchicalFactorModelEyes1.png')\nomega(Eyes1, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model (Eyes) MFB test 1\")\ndev.off()\npng('plots/EFA/HeirarchicalFactorModelEyes2.png')\nomega(Eyes2, nfactors = 3, sl = FALSE, title = \"Heirarchical Factor Model (Eyes) MFB test 2\")\ndev.off()\n\n",
    "created" : 1475171437865.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "61166337",
    "id" : "F9088830",
    "lastKnownWriteTime" : 1477430151,
    "path" : "~/Desktop/false belief/Code/dataviz.R",
    "project_path" : "dataviz.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}